"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4153],{93300:function(e,t,n){var s=n(45610),r=n(9),a=n(50044),l=n(57437),i=n(24033),c=n(2265),o=n(74056),d=n(64224);n(15099);var u=n(4392),p=n(72319),x=n(89788),m=n(600),h=n(13682),f=n(76340),b=n(46615),g=n(60453),j=n(46095),C=n(79398),v=n(7964),y=n(82469),FeatureIcon=function(e){var t=e.included;return"yes"===t?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",children:(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"#3F20FB"})}):"enterprise"===t?(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"url(#paint0_linear_6204_34164)"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"paint0_linear_6204_34164",x1:"-4",y1:"-10",x2:"17.5",y2:"22",gradientUnits:"userSpaceOnUse",children:[(0,l.jsx)("stop",{stopColor:"#3F20FB"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#B377FF"})]})})]}):"limited"===t?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 17C11.4 17 11 16.6 11 16C11 15.4 11.4 15 12 15C12.6 15 13 15.4 13 16C13 16.6 12.6 17 12 17ZM13 12C13 12.6 12.6 13 12 13C11.4 13 11 12.6 11 12V8C11 7.4 11.4 7 12 7C12.6 7 13 7.4 13 8V12Z",fill:"#BFB5FE"})}):(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM15.7 14.3C16.1 14.7 16.1 15.3 15.7 15.7C15.3 16.1 14.7 16.1 14.3 15.7L12 13.4L9.7 15.7C9.3 16.1 8.7 16.1 8.3 15.7C7.9 15.3 7.9 14.7 8.3 14.3L10.6 12L8.3 9.7C7.9 9.3 7.9 8.7 8.3 8.3C8.7 7.9 9.3 7.9 9.7 8.3L12 10.6L14.3 8.3C14.7 7.9 15.3 7.9 15.7 8.3C16.1 8.7 16.1 9.3 15.7 9.7L13.4 12L15.7 14.3Z",fill:"#BABABF"})})},LoadingSpinner=function(){return(0,l.jsx)("div",{className:"text-indigo-600 mt-2",children:(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 2.21.896 4.21 2.344 5.658l2.657-2.368z"})]})})};t.Z=function(e){var t,n,w,N=e.plan,F=e.isYearlySelected,L=e.isHighlightTextBlack,S=e.uxp18Variant,U=void 0===S?"control":S,_=(0,r._)((0,c.useState)(!1),2),B=_[0],k=_[1],T=(0,C.z)(),Z=(0,r._)((0,c.useState)(!1),2),I=Z[0],A=Z[1],P=(0,p.mU)(),M=P.isSubscribed,E=(P.isLoading,P.subscriptionEndsAt),O=P.subscriptionCancelledAt,V=P.planType,D=(0,b.Z)(),R=D.myPlanLevel,Y=D.findSubscriptionCTAText,z=D.planChanged,J=D.confirmationModalText,H=(0,u.aC)(),W=H.currentUser,X=H.userInfo,G=H.refetch,K=(0,i.useRouter)(),$=(0,m.Z)(),q=$.subscribe,Q=$.isSubscriptionLoading,ee=(0,f.Z)().notify,et=(0,v.T_)("components.plans"),en="pro"===N.planId,es="free"===N.planId,er=U===y.ZC.UXP_18.VARIANT_2||U===y.ZC.UXP_18.VARIANT_3,ea={features:et.raw("planCard.proPlanFeatures")},handleStartFree=function(){K.push("/signup")},el=(t=(0,s._)(function(){var e;return(0,a.Jh)(this,function(t){switch(t.label){case 0:if(z)return ee({message:"You have a new plan coming up! Your current plan will be cancelled on your next billing date!",type:"info"}),[2];if(E&&O)return ee({message:"Your subscription will be cancelled on your next billing date! You will be able to subscribe again on the next billing date.",type:"info"}),[2];t.label=1;case 1:if(t.trys.push([1,8,9,10]),!W||!W.email)return K.push("/signup"),[2];if(k(!0),!(Y(N.paymentUrl)===et("planCard.subscribe")||V===j.FD.FREE))return[3,3];return[4,q(N.paymentUrl)];case 2:if(!(e=t.sent()).success&&e.error)return ee({message:e.error,type:"error"}),[2];return(0,g.hb)("userInfoData"),K.push("/a/ui-list"),[3,7];case 3:return t.trys.push([3,6,,7]),[4,(0,x.M)(X.uid,N.paymentUrl)];case 4:return t.sent(),[4,G()];case 5:return t.sent(),(0,g.hb)("userInfoData"),[3,7];case 6:return ee({message:t.sent().message||"Error updating subscription",type:"error"}),[3,7];case 7:return[3,10];case 8:return ee({message:t.sent().message||"An unexpected error occurred",type:"error"}),[3,10];case 9:return k(!1),[7];case 10:return[2]}})}),function(){return t.apply(this,arguments)}),handleTooltipHover=function(e,t){T.capture(j.Je.PLAN_FEATURE_TOOLTIP_SHOWN,{featureName:e,planTitle:t})};return(0,l.jsxs)("div",{className:"w-full block relative md:h-full",children:[N.highlight&&(0,l.jsx)("div",{className:"hidden md:block absolute -top-7 left-0 right-0 text-center mb-2",children:(0,l.jsx)("span",{className:"font-caveat font-bold text-[36px] leading-[36px] tracking-normal text-right align-middle ".concat(void 0!==L&&L?"text-black":"text-white"),children:et("planCard.mostPopular")})}),F&&!es&&(0,l.jsx)("div",{className:"absolute top-[3.75rem] right-4 text-xs font-bold px-2 py-1 rounded-full ".concat(en&&er?"text-[#125F06] bg-[#D5F3A7]":"bg-carbon-200 text-carbon-700"),children:"".concat(et("planCard.saveKeyword")," ").concat(N.discount)}),(0,l.jsxs)("div",{className:"flex-1 flex mx-auto flex-col w-full h-full mt-4 md:mt-6 rounded-[28px] shadow-lg bg-white text-gray-800 ".concat(N.borderOutline?"outline outline-offset-0 outline-[7px] outline-purple-400":""),children:[(0,l.jsxs)("div",{className:"p-4 py-8 border-b md:p-8 md:h-[250px]",children:[en?(0,l.jsx)("div",{className:"px-2.5 py-2 rounded-lg mb-2 w-fit",style:{background:"linear-gradient(100deg, #3F20FB 0%, #B377FF 100%)"},children:(0,l.jsx)("div",{className:"font-inter font-medium text-[20px] leading-[24px] tracking-normal align-middle text-white",children:N.title})}):(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)("h3",{className:"font-inter font-medium text-[20px] leading-[24px] tracking-normal align-middle mb-2 text-gray-900",children:N.title})}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"flex space-x-2 ".concat(es&&F||!F?"items-baseline":"items-center"),children:[(0,l.jsxs)("span",{className:"text-[#1B1B1B] text-[50px] font-bold leading-[62px]",children:["$",N.price]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[!es&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-[rgba(96,96,103,0.60)] text-base font-medium",children:et("planCard.priceSuffix")}),F&&(0,l.jsx)("span",{className:"text-[#909095] text-sm",children:et("planCard.billedAnnually")})]}),es&&(0,l.jsx)("span",{className:"text-[rgba(96,96,103,0.60)] text-base font-medium",children:et("planCard.priceSuffix")})]})]})}),(0,l.jsx)("div",{className:"max-h-[48px] h-[48px]",children:function(){if(Q||B)return(0,l.jsx)(LoadingSpinner,{});if(!W&&es)return(0,l.jsx)("button",{onClick:handleStartFree,className:"w-full h-full bg-transparent border-2 border-[#903ff8] text-[#903ff8] hover:bg-[#903ff8] hover:text-white rounded-full font-medium text-xl",children:et("planCard.startForFree")});if(M&&E&&R===N.planLevel)return(0,l.jsxs)("p",{className:"font-bold mt-3 text-indigo-600",children:[et("planCard.planCancellation")," ",E]});if(M&&E&&R===N.planLevel)return(0,l.jsxs)("p",{className:"font-bold mt-3 text-indigo-600",children:["Your plan will be cancelled on ",E]});var e=Y(N.paymentUrl)===et("planCard.activePlan")||Y(N.paymentUrl)===et("planCard.activeOnNextBilling")?"w-full h-full text-xl font-medium bg-carbon-200 text-[#0BAC46] border rounded-full duration-150":"w-full h-full bg-transparent border-2 border-[#903ff8] text-[#903ff8] hover:bg-[#903ff8] hover:text-white rounded-full font-medium text-xl",t=Y(N.paymentUrl)===et("planCard.activePlan")||Y(N.paymentUrl)===et("planCard.activeOnNextBilling")?"w-full h-full flex text-xl bg-carbon-200 text-white items-center justify-center gap-x-3 border rounded-full duration-150":"w-full h-full rounded-full cursor-pointer transition-opacity hover:opacity-90 text-white font-medium text-xl",n=Q||B||Y(N.paymentUrl)===et("planCard.activePlan");switch(N.planId){case"pro":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{disabled:n,className:t,style:{background:"linear-gradient(135deg, #3F20FB 0%, #B377FF 100%)"},onClick:function(){return A(!0)},children:Y(N.paymentUrl)===et("planCard.subscribe")?et("planCard.upgradeToPro"):Y(N.paymentUrl)}),(0,l.jsx)("p",{className:"text-xs text-center mt-1 font-medium opacity-70",children:et("planCard.securePayment")})]});case"standard":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{disabled:n,className:e,onClick:function(){return A(!0)},children:Y(N.paymentUrl)===et("planCard.subscribe")?et("planCard.upgradePlan"):Y(N.paymentUrl)}),(0,l.jsx)("p",{className:"text-xs text-center mt-1 font-medium opacity-70",children:et("planCard.securePayment")})]});case"free":if(W)return(0,l.jsx)("button",{disabled:n,onClick:function(){return A(!0)},className:e,children:Y(N.paymentUrl)});break;default:return null}}()})]}),(0,l.jsxs)("div",{className:"px-4 py-4 border-b",children:[(0,l.jsx)("div",{className:"pb-2 col-span-2 font-medium text-left",children:(0,l.jsx)("p",{children:et("planCard.credits")})}),(0,l.jsxs)("div",{className:"flex flex-row space-x-2 items-start",children:[(0,l.jsx)(h.Z,{width:24,height:24,className:"p-0.5"}),(0,l.jsx)("div",{className:"flex flex-col",children:N.isLoading?(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-2"}),(0,l.jsx)("div",{className:"h-5 bg-gray-200 rounded w-24"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"font-medium",children:[N.creditsNumb," ",et("planCard.credits").toLowerCase()," ",(0,l.jsx)("span",{className:"opacity-50 font-normal",children:N.Creditsconditions})]}),(0,l.jsxs)("p",{className:"text-carbon-700/70",children:[et("planCard.upTo")," ",N.screensNumb," ",et("planCard.screens")]})]})})]})]}),en?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"px-4 pt-4 md:block",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,l.jsx)("img",{src:"/assets/icons/left-arrow.svg",alt:"Back Arrow",width:24,height:24}),(0,l.jsx)("span",{className:"text-[#3B00FF] font-medium",children:et("planCard.everythingInStandard")})]})}),(0,l.jsx)("div",{className:"px-4 pb-4 pb-8 space-y-3 md:block",children:null==ea?void 0:null===(n=ea.features)||void 0===n?void 0:n.map(function(e,t){return(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(FeatureIcon,{included:"yes"}),(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsx)("span",{className:"text-amethyst-800 font-medium",children:e.name}),e.badge&&(0,l.jsx)("span",{className:"ml-1 bg-indigo-100 text-amethyst-800 text-xs font-medium px-2 py-0.5 rounded-full",children:e.badge}),e.tooltip&&(0,l.jsx)(d.ZP,{className:"text-xs p-0 bg-carbon-800 text-white w-56 text-center rounded-md",content:e.tooltip,placement:"top",onShow:function(){return handleTooltipHover(e.name,N.title)},children:(0,l.jsx)("div",{className:"cursor-help",children:(0,l.jsx)(o.Z,{size:20,className:"text-carbon-400 hover:text-amethyst-400"})})})]})]},t)})})]}):(0,l.jsx)("ul",{className:"px-4 py-4 pb-8 space-y-3 md:block",children:(null!==(w=null==N?void 0:N.features)&&void 0!==w?w:[]).map(function(e,t){return(0,l.jsxs)("li",{className:"flex items-start gap-3 font-medium rounded-sm transition-colors duration-200","data-feature-index":t,children:[(0,l.jsx)(FeatureIcon,{included:"yes"}),(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsx)("div",{className:"flex items-center justify-start gap-2 ".concat(e.highlight?"bg-amethyst-100 py-0.5 px-1 rounded-sm":""),children:(0,l.jsxs)("span",{className:"".concat(e.highlight?"text-amethyst-800":""),children:[e.name," ",e.conditions&&(0,l.jsx)("span",{className:"text-sm text-[rgba(96,96,103,0.60)] ".concat(e.highlight?"text-amethyst-700/80":""),children:e.conditions})]})}),e.tooltip&&(0,l.jsx)(d.ZP,{className:"text-xs p-0 bg-carbon-800 text-white w-56 text-center rounded-md",content:e.tooltip,placement:"top",onShow:function(){return handleTooltipHover(e.name,N.title)},children:(0,l.jsx)("div",{className:"cursor-help",children:(0,l.jsx)(o.Z,{size:20,className:"text-carbon-400 hover:text-amethyst-400"})})})]})]},t)})})]}),I&&(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg",children:[(0,l.jsx)("p",{className:"mb-4",children:J(N.paymentUrl)}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,l.jsx)("button",{onClick:function(){el(),A(!1)},className:"px-4 py-1 bg-amethyst-700 text-white rounded hover:bg-amethyst-800",children:"Yes"}),(0,l.jsx)("button",{onClick:function(){return A(!1)},className:"px-4 py-1 bg-carbon-300 text-carbon-800 rounded hover:bg-carbon-400",children:"No"})]})]})})]})}},18895:function(e,t,n){n.d(t,{i:function(){return FeatureIcon},Z:function(){return PlanCardV2}});var s=n(45610),r=n(9),a=n(50044),l=n(57437),i=n(24033),c=n(2265),o=n(74056),d=n(64224);n(15099);var u=n(7964),p=n(4392),x=n(72319),m=n(89788),h=n(38597),f=n(600),b=n(13682),g=n(76340),j=n(46615),C=n(60453),v=n(46095),y=n(79398),w=n(82469),FeatureIcon=function(e){var t=e.included;return"yes"===t?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",children:(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"#3F20FB"})}):"enterprise"===t?(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"url(#paint0_linear_6204_34164)"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"paint0_linear_6204_34164",x1:"-4",y1:"-10",x2:"17.5",y2:"22",gradientUnits:"userSpaceOnUse",children:[(0,l.jsx)("stop",{stopColor:"#3F20FB"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#B377FF"})]})})]}):"limited"===t?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 17C11.4 17 11 16.6 11 16C11 15.4 11.4 15 12 15C12.6 15 13 15.4 13 16C13 16.6 12.6 17 12 17ZM13 12C13 12.6 12.6 13 12 13C11.4 13 11 12.6 11 12V8C11 7.4 11.4 7 12 7C12.6 7 13 7.4 13 8V12Z",fill:"#BFB5FE"})}):(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,l.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM15.7 14.3C16.1 14.7 16.1 15.3 15.7 15.7C15.3 16.1 14.7 16.1 14.3 15.7L12 13.4L9.7 15.7C9.3 16.1 8.7 16.1 8.3 15.7C7.9 15.3 7.9 14.7 8.3 14.3L10.6 12L8.3 9.7C7.9 9.3 7.9 8.7 8.3 8.3C8.7 7.9 9.3 7.9 9.7 8.3L12 10.6L14.3 8.3C14.7 7.9 15.3 7.9 15.7 8.3C16.1 8.7 16.1 9.3 15.7 9.7L13.4 12L15.7 14.3Z",fill:"#BABABF"})})},LoadingSpinner=function(){return(0,l.jsx)("div",{className:"text-indigo-600 mt-2",children:(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 2.21.896 4.21 2.344 5.658l2.657-2.368z"})]})})},PlanCardV2=function(e){var t,n,N,F,L,S,U,_,B,k=e.plan,T=e.isYearlySelected,Z=e.uxp18Variant,I=void 0===Z?"control":Z,A=(0,r._)((0,c.useState)(!1),2),P=A[0],M=A[1],E=(0,y.z)(),O=(0,r._)((0,c.useState)(!1),2),V=O[0],D=O[1],R=(0,x.mU)(),Y=R.isSubscribed,z=(R.isLoading,R.subscriptionEndsAt),J=R.subscriptionCancelledAt,H=R.planType,W=(0,j.Z)(),X=W.myPlanLevel,G=W.findSubscriptionCTAText,K=W.planChanged,$=W.confirmationModalText,q=(0,p.aC)(),Q=q.currentUser,ee=q.userInfo,et=q.refetch,en=(0,i.useRouter)(),es=(0,f.Z)(),er=es.subscribe,ea=es.isSubscriptionLoading,el=(t=(0,p.aC)().currentUser,N=(n=(0,r._)((0,c.useState)(null),2))[0],F=n[1],S=(L=(0,r._)((0,c.useState)(!1),2))[0],U=L[1],{cancelSubscription:(_=(0,s._)(function(){var e,n;return(0,a.Jh)(this,function(s){switch(s.label){case 0:if(!t||!t.email)return F("User not authenticated"),[2];s.label=1;case 1:return s.trys.push([1,4,,5]),U(!0),[4,fetch("".concat(h.URLS.authFuncUrl,"/cancelSubscription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email})})];case 2:return[4,s.sent().json()];case 3:return"success"!==(e=s.sent()).status&&F(e.message),U(!1),[2,e];case 4:return n=s.sent(),U(!1),F(n.message),[3,5];case 5:return U(!1),[2]}})}),function(){return _.apply(this,arguments)}),error:N,cancelLoading:S});el.cancelSubscription,el.cancelLoading;var ei=(0,g.Z)().notify,ec=(0,u.T_)("components.plans"),eo="pro"===k.planId,ed=I===w.ZC.UXP_18.VARIANT_2||I===w.ZC.UXP_18.VARIANT_3,handleStartFree=function(){en.push("/signup")},eu=(B=(0,s._)(function(){var e;return(0,a.Jh)(this,function(t){switch(t.label){case 0:if(K)return ei({message:"You have a new plan coming up! Your current plan will be cancelled on your next billing date!",type:"info"}),[2];if(z&&J)return ei({message:"Your subscription will be cancelled on your next billing date! You will be able to subscribe again on the next billing date.",type:"info"}),[2];t.label=1;case 1:if(t.trys.push([1,8,9,10]),!Q||!Q.email)return en.push("/signup"),[2];if(M(!0),!(G(k.paymentUrl)===ec("planCard.subscribe")||H===v.FD.FREE))return[3,3];return[4,er(k.paymentUrl)];case 2:if(!(e=t.sent()).success&&e.error)return ei({message:e.error,type:"error"}),[2];return(0,C.hb)("userInfoData"),en.push("/a/ui-list"),[3,7];case 3:return t.trys.push([3,6,,7]),[4,(0,m.M)(ee.uid,k.paymentUrl)];case 4:return t.sent(),[4,et()];case 5:return t.sent(),(0,C.hb)("userInfoData"),[3,7];case 6:return ei({message:t.sent().message||"Error updating subscription",type:"error"}),[3,7];case 7:return[3,10];case 8:return ei({message:t.sent().message||"An unexpected error occurred",type:"error"}),[3,10];case 9:return M(!1),[7];case 10:return[2]}})}),function(){return B.apply(this,arguments)}),handleTooltipHover=function(e,t){E.capture(v.Je.PLAN_FEATURE_TOOLTIP_SHOWN,{featureName:e,planTitle:t})};return(0,l.jsxs)("div",{className:"w-full block relative",children:[k.highlight&&(0,l.jsx)("div",{className:"hidden lg:block absolute -top-7 left-0 right-0 text-center mb-2",children:(0,l.jsx)("span",{className:"font-caveat text-3xl text-white",children:ec("planCard.betterValue")})}),T&&"free"!==k.planId&&(0,l.jsx)("div",{className:"absolute top-[3.75rem] right-4 text-xs font-bold px-2 py-1 rounded-full ".concat(eo&&ed?"text-[#125F06] bg-[#D5F3A7]":"bg-carbon-200 text-carbon-700"),children:"".concat(ec("planCard.saveKeyword")," ").concat(k.discount)}),(0,l.jsxs)("div",{className:"flex-1 flex mx-auto flex-col w-full mt-4 md:mt-6 max-w-xl rounded-[28px] shadow-lg bg-white text-gray-800 \n          ".concat(k.borderOutline?"outline outline-offset-2 outline-4 outline-amethyst-300":""),children:[(0,l.jsxs)("div",{className:"p-4 py-8 border-b md:p-8 md:h-[250px]",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"flex flex-row h-[32px] w-full items-center mb-4 justify-between",children:(0,l.jsx)("span",{className:"text-xl px-2 py-1 rounded-md font-semibold ".concat(k.titleClass),children:k.title})}),(0,l.jsxs)("div",{className:"flex text-6xl font-bold mb-4 items-start",children:[(0,l.jsx)("span",{className:"text-xl font-normal",children:"$"}),(0,l.jsxs)("span",{children:[k.price,"free"!==k.planId&&(0,l.jsx)("span",{className:"text-xl font-normal",children:k.priceSuffix}),"free"===k.planId&&(0,l.jsx)("span",{className:"text-xl font-normal ml-4",children:"(forever)"})]})]})]}),(0,l.jsx)("div",{className:"max-h-[48px] h-[48px]",children:function(){if(ea||P)return(0,l.jsx)(LoadingSpinner,{});if(!Q&&"free"===k.planId)return(0,l.jsx)("button",{onClick:handleStartFree,className:"w-full h-full border-0 flex text-xl pb-0.5 bg-[#3F20FB] hover:bg-[#2104D1] active:bg-[#2104D1] text-white items-center justify-center gap-x-3 border rounded-full duration-150",children:ec("planCard.startForFree")});if(Y&&z&&X===k.planLevel)return(0,l.jsxs)("p",{className:"font-bold mt-3 text-indigo-600",children:[ec("planCard.planCancellation")," ",z]});var e=G(k.paymentUrl)===ec("planCard.upgrade")?"w-full h-full flex text-xl bg-[#3F20FB] hover:bg-[#2104D1] active:bg-[#2104D1] text-white items-center justify-center gap-x-3 border rounded-full duration-150":G(k.paymentUrl)===ec("planCard.downgrade")||G(k.paymentUrl)===ec("planCard.startFree")?"w-full h-full flex text-xl  border-amethyst-700 hover:border-amethyst-800 active:border-amethyst-800 text-amethyst-800 items-center justify-center gap-x-3 border rounded-full duration-150":G(k.paymentUrl)===ec("planCard.activePlan")||G(k.paymentUrl)===ec("planCard.activeOnNextBilling")?"w-full h-full flex text-xl bg-carbon-200 text-[#0BAC46] items-center justify-center gap-x-3 border rounded-full duration-150":"w-full h-full flex text-xl bg-[#3F20FB] hover:bg-[#2104D1] active:bg-[#2104D1] text-white items-center justify-center gap-x-3 border rounded-full duration-150";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{disabled:ea||P||G(k.paymentUrl)===ec("planCard.activePlan"),className:e,onClick:function(){D(!0)},children:G(k.paymentUrl)}),"free"!==k.planId&&(0,l.jsx)("p",{className:"text-xs text-center mt-1 font-medium opacity-70",children:ec("planCard.securePayment")})]})}()})]}),(0,l.jsxs)("div",{className:"px-4 md:px-8 py-4 border-b",children:[(0,l.jsx)("div",{className:"pb-2 col-span-2 font-medium text-left",children:(0,l.jsx)("p",{children:ec("planCard.credits")})}),(0,l.jsxs)("div",{className:"flex flex-row space-x-2 items-start",children:[(0,l.jsx)(b.Z,{width:24,height:24,className:"p-0.5"}),(0,l.jsx)("div",{className:"flex flex-col",children:k.isLoading&&"free"===k.planId?(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-2"}),(0,l.jsx)("div",{className:"h-5 bg-gray-200 rounded w-24"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"font-medium",children:[k.creditsNumb," ",ec("planCard.credits").toLowerCase()," ",(0,l.jsx)("span",{className:"opacity-50 font-normal",children:k.Creditsconditions})]}),(0,l.jsxs)("p",{className:"text-carbon-700/70",children:[ec("planCard.upTo")," ",k.screensNumb," ",ec("planCard.screens")]})]})})]})]}),(0,l.jsxs)("ul",{className:"px-4 md:px-8 py-4 pb-8 space-y-3 md:block",children:[(0,l.jsx)("div",{className:"col-span-2 font-medium text-left",children:(0,l.jsx)("p",{children:ec("planCard.features")})}),k.features&&k.features.map(function(e,t){return(0,l.jsxs)("li",{className:"flex items-center gap-3 font-medium rounded-sm transition-colors duration-200","data-feature-index":t,children:[(0,l.jsx)(FeatureIcon,{included:e.included}),(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-2 ".concat(e.highlight?"bg-amethyst-100 py-0.5 px-1 rounded-sm":""),children:[(0,l.jsx)("span",{className:"".concat(e.highlight?"text-amethyst-800 break-words whitespace-nowrap":""),children:e.name}),e.conditions&&(0,l.jsx)("span",{className:"text-sm ".concat(e.highlight?"text-amethyst-700/80":""),children:e.conditions})]}),e.tooltip&&(0,l.jsx)(d.ZP,{className:"text-xs p-0 bg-carbon-800 text-white w-56 text-center rounded-md",content:e.tooltip,placement:"top",onShow:function(){return handleTooltipHover(e.name,k.title)},children:(0,l.jsx)("div",{className:"cursor-help",children:(0,l.jsx)(o.Z,{size:16,className:"text-amethyst-300 hover:text-amethyst-400"})})})]})]},t)})]})]}),V&&(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg",children:[(0,l.jsx)("p",{className:"mb-4",children:$(k.paymentUrl)}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,l.jsx)("button",{onClick:function(){eu(),D(!1)},className:"px-4 py-1 bg-amethyst-700 text-white rounded hover:bg-amethyst-800",children:"Yes"}),(0,l.jsx)("button",{onClick:function(){return D(!1)},className:"px-4 py-1 bg-carbon-300 text-carbon-800 rounded hover:bg-carbon-400",children:"No"})]})]})})]})}},89788:function(e,t,n){n.d(t,{E:function(){return c},M:function(){return o}});var s,r,a=n(45610),l=n(50044),i=n(38597),c=(s=(0,a._)(function(e,t){var n;return(0,l.Jh)(this,function(s){switch(s.label){case 0:return[4,fetch("".concat(i.URLS.streamUrl,"/subscription/cancel-subscription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,planId:t})})];case 1:if(!(n=s.sent()).ok)throw Error("Failed to cancel subscription");return[2,n.json()]}})}),function(e,t){return s.apply(this,arguments)}),o=(r=(0,a._)(function(e,t){var n,s;return(0,l.Jh)(this,function(r){switch(r.label){case 0:return[4,fetch("".concat(i.URLS.streamUrl,"/subscription/update-subscription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,planId:t})})];case 1:if(!(n=r.sent()).ok)throw Error("Failed to update subscription");return[4,n.json()];case 2:if(!1===(s=r.sent()).success)throw Error(s.message);return[2,s]}})}),function(e,t){return r.apply(this,arguments)})},600:function(e,t,n){n.d(t,{Z:function(){return useSubscribeToPlan}});var s=n(45610),r=n(9),a=n(50044),l=n(96974);n(27106);var i=n(2265),c=n(60453),o=n(47635),d=n(4392),u=n(90335),p=n(27419);function useSubscribeToPlan(){var e,t=(0,l.useStripe)(),n=(0,r._)((0,i.useState)(null),2),x=n[0],m=n[1],h=(0,r._)((0,i.useState)(!1),2),f=h[0],b=h[1],g=(0,d.aC)().currentUser,j=(0,r._)((0,u.pr)(),1)[0],C=(0,r._)((0,p.h3)(),1)[0];return{subscribe:(e=(0,s._)(function(e){var n,s,r,l,i,d,u,p,x,h;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(m(null),!g||!g.email)return m(n="User not authenticated"),[2,{success:!1,error:n}];b(!0),a.label=1;case 1:return a.trys.push([1,7,8,9]),s=window.tolt_referral||"",[4,j().unwrap()];case 2:return r=a.sent().ip,l=navigator.userAgent,[4,C({email:g.email,planId:e,toltReferral:s,userIpAddress:r,userAgent:l}).unwrap()];case 3:if("success"!==(i=a.sent()).status)return[3,5];return[4,(0,o.V)(i.sessionId,t)];case 4:if((d=a.sent())&&d.error)return m(u=d.error.message||"Checkout failed"),b(!1),[2,{success:!1,error:u}];return b(!1),[2,{success:!0}];case 5:if("error"===i.status&&"User already has an active subscription."===i.message)return m(p="You already have an active subscription."),b(!1),[2,{success:!1,error:p}];return m(x=i.message||"Subscription failed"),b(!1),[2,{success:!1,error:x}];case 6:return[3,9];case 7:return m(h=a.sent().message||"An error occurred while processing your subscription"),b(!1),[2,{success:!1,error:h}];case 8:return(0,c.hb)("userInfoData"),[7];case 9:return[2]}})}),function(t){return e.apply(this,arguments)}),error:x,isSubscriptionLoading:f}}}}]);